<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Anime List</title>
</head>
<body>
	
<a href="/animes/animelist">
    <button>Load Anime List</button>
</a>
	
<!-- Button to show anime sorted by rating -->
<form th:action="@{/animes/sortByRating}" method="get">
    <button type="submit">Sort by Rating</button>
</form>

<!-- Button to show anime sorted by release date -->
<form th:action="@{/animes/sortByReleaseDate}" method="get">
    <button type="submit">Sort by Release Date</button>
</form>

<!-- Button to show user details -->
<form th:action="@{/user/login}" method="get">
    <button type="submit">User Details</button>
</form>

<h1>Top 20 Anime by Average Rating</h1>
<div>
    <h2>Top 20</h2>
    <div th:each="anime, iterStat : ${top20Anime}">
        <a th:href="@{'/animes/details/' + ${anime.id}}">
            <img th:src="${anime.cover}" th:alt="${anime.name}">
        </a>
        <p>Clicks: <span th:text="${anime.clicks}"></span></p>
        <p>Average Rating: <span th:text="${anime.averageRating}"></span></p>
        <p>Release Date: <span th:text="${anime.releaseDate}"></span></p>
    </div>
</div>

<h1>Latest 20 Anime</h1>
<div>
    <h2>Latest 20</h2>
    <div th:each="anime, iterStat : ${latest20Anime}">
        <a th:href="@{'/animes/details/' + ${anime.id}}">
            <img th:src="${anime.cover}" th:alt="${anime.name}">
        </a>
        <p>Clicks: <span th:text="${anime.clicks}"></span></p>
        <p>Average Rating: <span th:text="${anime.averageRating}"></span></p>
        <p>Release Date: <span th:text="${anime.releaseDate}"></span></p>
    </div>
</div>

</body>
</html>